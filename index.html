<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fluid Portfolio</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      line-height: 1;
      background: linear-gradient(120deg, #10151a, #181c24, #1a1e2b, #181c24, #10151a);
      background-size: 400% 400%;
      animation: bg-rotate 18s ease-in-out infinite;
      color: rgba(120,180,255,0.82);
      font-family: 'Fira Code', monospace;
      scroll-behavior: smooth;
    }

    @keyframes bg-rotate {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .hero-section, .fullpage-section {
      position: relative;
      width: 100vw;
      min-width: 100vw;
      max-width: 100vw;
      height: 100vh;
      margin: 0 !important;
      padding: 0 !important;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: none !important;
      border: none !important;
    }
    .fullpage-section {
      margin-top: -1px !important;
      color: #fff;
    }
    
    /* Page Background Gradients */
    .page-welcome {
      background: linear-gradient(180deg, rgba(20,24,32,1) 0%, #2a4237 100%);
    }

    .page-about {
      background: linear-gradient(180deg, #2a4237 0%, #3a5a4a 100%);
    }

    .page-experience {
      background: linear-gradient(180deg, #3a5a4a 0%, #4a6b5a 100%);
    }

    .page-projects {
      background: linear-gradient(180deg, #4a6b5a 0%, #6b5a4a 100%);
    }

    .page-skills {
      background: linear-gradient(180deg, #6b5a4a 0%, #8b7a6a 100%);
    }
    #fluid-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      margin: 0;
      background: #182222;
      border: none;
      box-shadow: none;
      pointer-events: auto;
      display: block;
    }
    .centered {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      pointer-events: none;
      z-index: 10;
    }
    h1 {
      font-size: 4.5rem;
      margin: 0.5em 0 0.2em 0;
      font-family: 'Fira Code', monospace;
      letter-spacing: 2px;
      pointer-events: auto;
    }
    #type-animation {
      font-size: 2.5rem;
      font-family: 'Fira Code', monospace;
      font-weight: bold;
      pointer-events: auto;
    }
    nav {
      pointer-events: auto;
      z-index: 15;
    }
    nav a {
      margin: 0 1rem;
      text-decoration: none;
      font-size: 1.2rem;
      transition: color 0.3s, border-bottom 0.3s;
      padding-bottom: 2px;
      border-bottom: 2px solid transparent;
    }
    nav a:hover {
      color: rgb(141, 180, 202);
      /* border-bottom: 1.5px solid rgba(255, 255, 255, 0.6); */
    }
    nav a.active {
      border-bottom: 2px solid #ededed;
    }
    nav a::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      height: 1.35px;
      width: 0;
      background: #ffffff;
      transition: width 0.3s;
    }
    nav a:hover::after {
      width: 100%;
    }
    .typed-cursor {
      font-size: 2.5rem;
      color: #e0e0e0;
      line-height: 1;
      height: 2.5rem;
      display: inline-block;
    }
    /* Grid background for hero section */
    .grid-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(255, 255, 255, 0.15) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.15) 1px, transparent 1px);
      background-size: 50px 50px;
      mask-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.782) 0%, rgba(255, 255, 255, 0.2) 60%, transparent 80%);
      -webkit-mask-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.638) 0%, rgba(255, 255, 255, 0.444) 80%, transparent 90%);
      z-index: 5;
      pointer-events: none;
    }
    /* Content Wrapper and Section Titles */
    .content-wrapper {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 2rem;
      text-align: center;
    }

    .section-title {
      font-size: 3rem;
      margin-bottom: 2rem;
      color: rgba(255, 255, 255, 0.9);
      font-weight: 300;
      letter-spacing: 2px;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Welcome Section */
    .welcome-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
    }

    .welcome-icon {
      font-size: 4rem;
      animation: bounce 2s infinite;
    }

    .welcome-text {
      font-size: 2rem;
      color: rgba(255, 255, 255, 0.8);
      margin: 0;
    }

    .scroll-indicator {
      font-size: 2rem;
      color: rgba(255, 255, 255, 0.6);
      animation: pulse 2s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    /* About Section */
    .about-content {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 3rem;
      align-items: start;
      max-width: 1000px;
      margin: 0 auto;
    }

    .about-text {
      text-align: left;
      line-height: 1.8;
    }

    .about-text p {
      margin-bottom: 1.5rem;
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.1rem;
      opacity: 0;
      transform: translateX(-30px);
      animation: slideInLeft 0.8s ease forwards;
    }

    .about-text p:nth-child(2) { animation-delay: 0.2s; }
    .about-text p:nth-child(3) { animation-delay: 0.4s; }

    @keyframes slideInLeft {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .about-stats {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .stat-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease forwards;
    }

    .stat-item:nth-child(1) { animation-delay: 0.3s; }
    .stat-item:nth-child(2) { animation-delay: 0.5s; }
    .stat-item:nth-child(3) { animation-delay: 0.7s; }

    .stat-number {
      font-size: 3rem;
      font-weight: bold;
      color: #8fd6a7;
    }

    .stat-label {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.7);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Experience Section */
    .experience-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .experience-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      border-radius: 15px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease forwards;
    }

    .experience-card:nth-child(1) { animation-delay: 0.2s; }
    .experience-card:nth-child(2) { animation-delay: 0.4s; }
    .experience-card:nth-child(3) { animation-delay: 0.6s; }

    .experience-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .exp-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .experience-card h3 {
      margin: 0 0 0.5rem 0;
      color: #8fd6a7;
      font-size: 1.3rem;
    }

    .experience-card p {
      margin: 0 0 1rem 0;
      color: rgba(255, 255, 255, 0.8);
    }

    .exp-year {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.9rem;
      font-style: italic;
    }

    /* Projects Section */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      max-width: 900px;
      margin: 0 auto;
    }

    .project-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      border-radius: 15px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease forwards;
    }

    .project-card:nth-child(1) { animation-delay: 0.2s; }
    .project-card:nth-child(2) { animation-delay: 0.4s; }
    .project-card:nth-child(3) { animation-delay: 0.6s; }

    .project-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .project-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .project-card h3 {
      margin: 0 0 0.5rem 0;
      color: #8fd6a7;
      font-size: 1.3rem;
    }

    .project-card p {
      margin: 0 0 1rem 0;
      color: rgba(255, 255, 255, 0.8);
    }

    .project-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .tag {
      background: rgba(143, 214, 167, 0.2);
      color: #8fd6a7;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      border: 1px solid rgba(143, 214, 167, 0.3);
    }

    /* Skills Section */
    .skills-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .skill-category {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease forwards;
    }

    .skill-category:nth-child(1) { animation-delay: 0.2s; }
    .skill-category:nth-child(2) { animation-delay: 0.4s; }
    .skill-category:nth-child(3) { animation-delay: 0.6s; }
    .skill-category:nth-child(4) { animation-delay: 0.8s; }

    .skill-category h3 {
      color: #8fd6a7;
      margin-bottom: 1rem;
      font-size: 1.2rem;
      text-align: center;
    }

    .skill-items {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .skill-item {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.9);
      padding: 0.8rem;
      border-radius: 8px;
      text-align: center;
      transition: background 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .skill-item:hover {
      background: rgba(143, 214, 167, 0.2);
      color: #8fd6a7;
    }

    /* Bubble trail for non-hero sections */
    .bubble {
      position: fixed;
      pointer-events: none;
      border-radius: 50%;
      opacity: 0.7;
      z-index: 9999;
      transition: opacity 1.2s, transform 1.2s;
      will-change: transform, opacity;
    }
  </style>
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
</head>
<body>
  <section class="hero-section">
    <div class="grid-background"></div>
    <canvas id="fluid-canvas"></canvas>
    <div class="centered">
      <h1 class="hero-title">Hamza</h1>
      <div id="type-animation-container"><span id="type-animation" class="hero-tagline"></span></div>
      <nav style="margin-top: 2rem;">
        <a href="#about" class="nav-labels">About</a>
        <a href="#experience" class="nav-labels">Experience</a>
        <a href="#projects" class="nav-labels">Projects</a>
        <a href="#skills" class="nav-labels">Skills</a>
      </nav>
    </div>
  </section>

  <section class="fullpage-section page-welcome">
    <div class="content-wrapper">
      <h2 class="section-title">Welcome</h2>
      <div class="welcome-content">
        <div class="welcome-icon">🚀</div>
        <p class="welcome-text">Ready to explore?</p>
        <div class="scroll-indicator">↓</div>
      </div>
    </div>
  </section>

  <section id="about" class="fullpage-section page-about">
    <div class="content-wrapper">
      <h2 class="section-title">About</h2>
      <div class="about-content">
        <div class="about-text">
          <p>Hey there! I'm Hamza, a passionate mathematician and physicist who loves turning complex problems into elegant solutions. When I'm not crunching numbers or exploring the mysteries of the universe, you'll find me creating music or perfecting my basketball game.</p>
          <p>I believe in the power of interdisciplinary thinking - whether it's applying mathematical principles to music theory or using physics concepts to improve my jump shot. Every problem is just an opportunity to learn something new.</p>
          <p>Currently diving deep into fluid dynamics (as you can see from this background!), quantum mechanics, and exploring how mathematics connects everything around us.</p>
        </div>
        <div class="about-stats">
          <div class="stat-item">
            <span class="stat-number">∞</span>
            <span class="stat-label">Curiosity</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">π</span>
            <span class="stat-label">Precision</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">e</span>
            <span class="stat-label">Growth</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="experience" class="fullpage-section page-experience">
    <div class="content-wrapper">
      <h2 class="section-title">Experience</h2>
      <div class="experience-grid">
        <div class="experience-card">
          <div class="exp-icon">🎓</div>
          <h3>Research Assistant</h3>
          <p>Fluid Dynamics Lab</p>
          <span class="exp-year">2023 - Present</span>
        </div>
        <div class="experience-card">
          <div class="exp-icon">💻</div>
          <h3>Data Scientist</h3>
          <p>Tech Startup</p>
          <span class="exp-year">2022 - 2023</span>
        </div>
        <div class="experience-card">
          <div class="exp-icon">🎵</div>
          <h3>Music Producer</h3>
          <p>Freelance</p>
          <span class="exp-year">2021 - Present</span>
        </div>
      </div>
    </div>
  </section>

  <section id="projects" class="fullpage-section page-projects">
    <div class="content-wrapper">
      <h2 class="section-title">Projects</h2>
      <div class="projects-grid">
        <div class="project-card">
          <div class="project-icon">🌊</div>
          <h3>Fluid Simulator</h3>
          <p>Real-time fluid dynamics simulation</p>
          <div class="project-tags">
            <span class="tag">JavaScript</span>
            <span class="tag">Canvas</span>
            <span class="tag">Physics</span>
          </div>
        </div>
        <div class="project-card">
          <div class="project-icon">🎵</div>
          <h3>Music Visualizer</h3>
          <p>Mathematical music patterns</p>
          <div class="project-tags">
            <span class="tag">Web Audio</span>
            <span class="tag">Three.js</span>
            <span class="tag">Math</span>
          </div>
        </div>
        <div class="project-card">
          <div class="project-icon">🏀</div>
          <h3>Shot Tracker</h3>
          <p>Basketball analytics app</p>
          <div class="project-tags">
            <span class="tag">React</span>
            <span class="tag">ML</span>
            <span class="tag">Sports</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="skills" class="fullpage-section page-skills">
    <div class="content-wrapper">
      <h2 class="section-title">Skills</h2>
      <div class="skills-container">
        <div class="skill-category">
          <h3>Mathematics</h3>
          <div class="skill-items">
            <span class="skill-item">Calculus</span>
            <span class="skill-item">Linear Algebra</span>
            <span class="skill-item">Differential Equations</span>
            <span class="skill-item">Number Theory</span>
          </div>
        </div>
        <div class="skill-category">
          <h3>Physics</h3>
          <div class="skill-items">
            <span class="skill-item">Quantum Mechanics</span>
            <span class="skill-item">Fluid Dynamics</span>
            <span class="skill-item">Classical Mechanics</span>
            <span class="skill-item">Thermodynamics</span>
          </div>
        </div>
        <div class="skill-category">
          <h3>Programming</h3>
          <div class="skill-items">
            <span class="skill-item">Python</span>
            <span class="skill-item">JavaScript</span>
            <span class="skill-item">MATLAB</span>
            <span class="skill-item">C++</span>
          </div>
        </div>
        <div class="skill-category">
          <h3>Creative</h3>
          <div class="skill-items">
            <span class="skill-item">Music Production</span>
            <span class="skill-item">Basketball</span>
            <span class="skill-item">Problem Solving</span>
            <span class="skill-item">Innovation</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    // Bubble trail for non-hero sections
    // === BUBBLE CONFIGURATION ===
    const BUBBLE_CONFIG = {
      size: {
        min: 5,
        max: 12
      },
      frequency: 0.25, // 0-1, higher = more bubbles
      opacity: {
        min: 0.15,
        max: 0.4
      },
      animation: {
        duration: 1200, // ms
        fadeDelay: 10,  // ms
        driftDistance: {
          min: 30,
          max: 60
        },
        scaleRange: {
          min: 0.6,
          max: 1.2
        }
      },
      colors: {
        primary: 'rgba(200, 230, 255, 0.8)',
        secondary: 'rgba(120, 180, 220, 0.27)',
        glow: 'rgba(180, 220, 255, 0.33)'
      }
    };

    let bubbleActive = false;
    let bubbles = [];
    function createBubble(x, y) {
      // Random frequency check
      if (Math.random() > BUBBLE_CONFIG.frequency) return;

      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      const size = BUBBLE_CONFIG.size.min + Math.random() * (BUBBLE_CONFIG.size.max - BUBBLE_CONFIG.size.min);
      bubble.style.width = bubble.style.height = size + 'px';
      bubble.style.left = (x - size/2) + 'px';
      bubble.style.top = (y - size/2) + 'px';
      bubble.style.opacity = BUBBLE_CONFIG.opacity.min + Math.random() * (BUBBLE_CONFIG.opacity.max - BUBBLE_CONFIG.opacity.min);
      document.body.appendChild(bubble);
      bubbles.push(bubble);
      setTimeout(() => {
        bubble.style.opacity = 0;
        const driftY = BUBBLE_CONFIG.animation.driftDistance.min + Math.random() * (BUBBLE_CONFIG.animation.driftDistance.max - BUBBLE_CONFIG.animation.driftDistance.min);
        const scale = BUBBLE_CONFIG.animation.scaleRange.min + Math.random() * (BUBBLE_CONFIG.animation.scaleRange.max - BUBBLE_CONFIG.animation.scaleRange.min);
        bubble.style.transform = `translateY(-${driftY}px) scale(${scale})`;
        setTimeout(() => {
          bubble.remove();
          bubbles = bubbles.filter(b => b !== bubble);
        }, BUBBLE_CONFIG.animation.duration);
      }, BUBBLE_CONFIG.animation.fadeDelay);
    }
    function onBubbleMouseMove(e) {
      if (!bubbleActive) return;
      createBubble(e.clientX, e.clientY);
    }
    // Activate bubble effect only on .fullpage-section
    document.querySelectorAll('.fullpage-section').forEach(section => {
      section.addEventListener('mouseenter', () => { bubbleActive = true; });
      section.addEventListener('mouseleave', () => { bubbleActive = false; });
      section.addEventListener('mousemove', onBubbleMouseMove);
    });

    // Scroll-triggered animations
    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animationPlayState = 'running';
        }
      });
    }, observerOptions);

    // Observe all animated elements
    document.querySelectorAll('.section-title, .about-text p, .stat-item, .experience-card, .project-card, .skill-category').forEach(el => {
      el.style.animationPlayState = 'paused';
      observer.observe(el);
    });
  </script>
  <script>
    // --- Simulation parameters ---
    const N = 200; // number of points
    const dx = 1.0;
    const dt = 0.12; // smaller time step for stability
    const g = 1; // gravity (slower)
    const damping = 0.9993; // more damping

    // --- State arrays ---
    let h = new Array(N).fill(0); // height
    let v = new Array(N).fill(0); // velocity

    // --- Initial perturbations: Gaussian bump, random bumps, and a sine wave ---
    for (let i = 0; i < N; i++) {
      const x = (i - N/2) / 10;
      h[i] = Math.exp(-x*x) * 18; // Gaussian bump
      h[i] += Math.sin(i * Math.PI * 2 / N * 3) * 6; // Sine wave
      h[i] += (Math.random() - 0.5) * 1.2; // Reduced random noise
    }

    // --- Canvas setup ---
    const canvas = document.getElementById('fluid-canvas');
    const ctx = canvas.getContext('2d');
    function resize() {
      const hero = document.querySelector('.hero-section');
      canvas.width = hero.offsetWidth;
      canvas.height = hero.offsetHeight;
    }
    resize();
    window.addEventListener('resize', resize);

    // --- Mouse gravity well ---
    let mouseX = null, mouseY = null, mouseDown = false;
    canvas.addEventListener('mousemove', e => {
      const rect = canvas.getBoundingClientRect();
      mouseX = e.clientX - rect.left;
      mouseY = e.clientY - rect.top;
    });
    canvas.addEventListener('mouseleave', () => {
      mouseX = null;
      mouseY = null;
    });
    canvas.addEventListener('mousedown', () => mouseDown = true);
    canvas.addEventListener('mouseup', () => mouseDown = false);

    // --- Simulation step ---
    function step() {
      // Mouse gravity well: smoothly pull fluid toward mouse if near surface
      const waterVolume = 0.12; // match draw()
      const y0 = canvas.height * (1 - waterVolume);
      if (mouseX !== null && mouseY !== null) {
        const i = Math.floor((mouseX / canvas.width) * N);
        if (i > 2 && i < N-2) {
          const surfaceY = y0 + h[i];
          if (Math.abs(mouseY - surfaceY) < 100) {
            const strength = 0.07 * (1 - Math.abs(mouseY - surfaceY) / 60);
            v[i] += (mouseY - surfaceY) * strength * (mouseDown ? 2.5 : 1.0);
          }
        }
      }
      // Update velocity (finite difference Laplacian)
      for (let i = 1; i < N-1; i++) {
        v[i] += g * (h[i-1] + h[i+1] - 2*h[i]) / (dx*dx) * dt;
        v[i] *= damping;
      }
      // Update height
      for (let i = 1; i < N-1; i++) {
        h[i] += v[i] * dt;
      }
      // Conserve water volume: subtract mean from all h[i]
      const mean = h.reduce((a, b) => a + b, 0) / N;
      for (let i = 0; i < N; i++) {
        h[i] -= mean;
      }
      // Smooth the surface (gentler weighted average, 1 pass)
      let hSmooth = h.slice();
      for (let i = 1; i < N-1; i++) {
        h[i] = 0.25 * hSmooth[i-1] + 0.5 * hSmooth[i] + 0.25 * hSmooth[i+1];
      }
    }

    // --- Draw the fluid surface ---
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.save();
      ctx.beginPath();
      const waterVolume = 0.16;
      const y0 = canvas.height * (1 - waterVolume);
      ctx.moveTo(0, y0 + h[0]);
      for (let i = 1; i < N; i++) {
        const x = (i / (N-1)) * canvas.width;
        ctx.lineTo(x, y0 + h[i]);
      }
      ctx.lineTo(canvas.width, canvas.height);
      ctx.lineTo(0, canvas.height);
      ctx.closePath();
      // Water fill: use CSS custom properties for gradient stops
      const styles = getComputedStyle(document.documentElement);
      const stop1 = styles.getPropertyValue('--water-gradient-stop1').trim();
      const stop2 = styles.getPropertyValue('--water-gradient-stop2').trim();
      const stop3 = styles.getPropertyValue('--water-gradient-stop3').trim();
      const stop4 = styles.getPropertyValue('--water-gradient-stop4').trim();
      const stop5 = styles.getPropertyValue('--water-gradient-stop5').trim();
      const stop6 = styles.getPropertyValue('--water-gradient-stop6').trim();
      const grad = ctx.createLinearGradient(0, y0, 0, canvas.height);
      grad.addColorStop(0, stop1);
      grad.addColorStop(0.2, stop2);
      grad.addColorStop(0.45, stop3);
      grad.addColorStop(0.7, stop4);
      grad.addColorStop(0.85, stop5);
      grad.addColorStop(1, stop6);
      ctx.fillStyle = grad;
      ctx.fill();
      ctx.restore();
      // Draw the surface line (less contrast)
      ctx.beginPath();
      ctx.moveTo(0, y0 + h[0]);
      for (let i = 1; i < N; i++) {
        const x = (i / (N-1)) * canvas.width;
        ctx.lineTo(x, y0 + h[i]);
      }
      ctx.strokeStyle = 'rgba(200,220,230,0.32)';
      ctx.lineWidth = 2;
      ctx.stroke();
      // Draw highlight along the surface (very subtle)
      ctx.save();
      ctx.beginPath();
      for (let i = 0; i < N; i += 2) {
        const x = (i / (N-1)) * canvas.width;
        const y = y0 + h[i] - 6;
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.strokeStyle = 'rgba(220,220,255,0.08)';
      ctx.lineWidth = 3.5;
      ctx.shadowColor = 'transparent';
      ctx.shadowBlur = 0;
      ctx.stroke();
      ctx.restore();
      // Optional: faint reflection below the surface (even more subtle)
      ctx.save();
      ctx.beginPath();
      for (let i = 0; i < N; i += 2) {
        const x = (i / (N-1)) * canvas.width;
        const y = y0 + h[i] + 12;
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.strokeStyle = 'rgba(200,220,255,0.03)';
      ctx.lineWidth = 7;
      ctx.shadowColor = 'transparent';
      ctx.shadowBlur = 0;
      ctx.stroke();
      ctx.restore();
      // Draw mouse gravity well indicator (less contrast)
      if (mouseX !== null && mouseY !== null) {
        ctx.beginPath();
        ctx.arc(mouseX, mouseY, 10, 0, 2 * Math.PI);
        ctx.fillStyle = mouseDown ? 'rgba(200,220,255,0.18)' : 'rgba(200,220,255,0.09)';
        ctx.fill();
        ctx.strokeStyle = 'rgba(200,220,255,0.18)';
        ctx.lineWidth = 1.2;
        ctx.stroke();
      }
    }

    // --- Animation loop ---
    function animate() {
      step();
      draw();
      requestAnimationFrame(animate);
    }
    animate();

    // --- Mouse click: add a disturbance ---
    canvas.addEventListener('mousedown', e => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const i = Math.floor((x / canvas.width) * N);
      if (i > 2 && i < N-2) {
        h[i-2] += 10;
        h[i-1] += 18;
        h[i]   += 28;
        h[i+1] += 18;
        h[i+2] += 10;
      }
    });

    // Typed.js animation for tagline
    var typed = new Typed('#type-animation', {
      strings: [
        "Mathematician",
        "Physicist",
        "Musician",
        "Baller"
      ],
      typeSpeed: 50,
      backSpeed: 30,
      backDelay: 1500,
      startDelay: 500,
      loop: true
    });
  </script>
</body>
</html>